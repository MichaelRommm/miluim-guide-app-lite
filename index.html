<!DOCTYPE html>
<html lang="ru" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ³Ğ¸Ğ´ Ğ¿Ğ¾ Ğ»ÑŒĞ³Ğ¾Ñ‚Ğ°Ğ¼ Ğ´Ğ»Ñ Ñ€ĞµĞ·ĞµÑ€Ğ²Ğ¸ÑÑ‚Ğ¾Ğ² ("Ğ–ĞµĞ»ĞµĞ·Ğ½Ñ‹Ğµ ĞœĞµÑ‡Ğ¸")</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Calm Desert -->
    <!-- Application Structure Plan: Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ Ğ´Ğ»Ñ Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ñ€ĞµĞ»Ğ¸Ğ·Ğ°. Ğ’ÑĞµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸, Ñ‚Ñ€ĞµĞ±ÑƒÑÑ‰Ğ¸Ğµ ÑĞµÑ€Ğ²ĞµÑ€Ğ½Ğ¾Ğ¹ Ñ‡Ğ°ÑÑ‚Ğ¸ Ğ¸ API-ĞºĞ»ÑÑ‡ĞµĞ¹ (Gemini API), Ğ±Ñ‹Ğ»Ğ¸ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ñ‹ Ğ´Ğ»Ñ Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡ĞµĞ½Ğ¸Ñ 100% ĞºĞ»Ğ¸ĞµĞ½Ñ‚ÑĞºĞ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹, Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ñ‚Ñ‹ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ Ğ½Ğ° ÑÑ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ñ…Ğ¾ÑÑ‚Ğ¸Ğ½Ğ³Ğ°Ñ… (Netlify, GitHub Pages). ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ¾Ğ±Ğ¾Ğ¹ ĞµĞ´Ğ¸Ğ½Ñ‹Ğ¹, ÑĞ°Ğ¼Ğ¾Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ñ‹Ğ¹ HTML-Ñ„Ğ°Ğ¹Ğ», ÑÑ„Ğ¾ĞºÑƒÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ½Ğ° Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¸ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ¹, Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ¸ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ÑĞ·Ñ‹Ñ‡Ğ½Ğ¾Ğ¹ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ğ¸. -->
    <!-- Visualization & Content Choices: 
        - Ğ˜ÑÑ…Ğ¾Ğ´Ğ½Ğ°Ñ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ: ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹, Ğ²ĞµÑ€Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ»ÑŒĞ³Ğ¾Ñ‚.
        - Ğ¦ĞµĞ»ÑŒ: ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ, Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ñ‚Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¸ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ.
        - ĞœĞµÑ‚Ğ¾Ğ´ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ: 
          - UI: Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ Ğ¸ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ÑĞ·Ñ‹Ñ‡Ğ½Ñ‹Ğ¹ Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ°Ñ‚ĞµĞ»ÑŒ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ñ‹ ĞºĞ°Ğº ÑĞ´Ñ€Ğ¾ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸.
          - Ğ’Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ: Ğ’ÑÑ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ñ‚ĞµĞ¿ĞµÑ€ÑŒ Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ ÑĞ¾ÑÑ€ĞµĞ´Ğ¾Ñ‚Ğ¾Ñ‡ĞµĞ½Ğ° Ğ½Ğ° Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¸ Ğ¾Ñ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¸ Ğ·Ğ°Ñ€Ğ°Ğ½ĞµĞµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ½Ğ° ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°.
          - Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ñ‹: ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ "ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ²ĞµÑ‚Ñ‹", "Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¿Ğ¸ÑĞµĞ¼", Ğ¼Ğ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ Ğ¸ Ğ²ÑĞµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ `callGeminiAPI`.
        - ĞĞ±Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ: Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ ÑĞµÑ€Ğ²ĞµÑ€Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹ Ğ´ĞµĞ»Ğ°ĞµÑ‚ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾-Ğ½Ğ°ÑÑ‚Ğ¾ÑÑ‰ĞµĞ¼Ñƒ Ğ¾Ğ±Ñ‰ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğ¼, Ğ±ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ñ‹Ğ¼ Ğ¸ Ğ»ĞµĞ³ĞºĞ¸Ğ¼ Ğ² Ğ¾Ğ±ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ²Ğ»Ğ°Ğ´ĞµĞ»ÑŒÑ†Ğ° ÑĞ°Ğ¹Ñ‚Ğ°, Ñ‡Ñ‚Ğ¾ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚ Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ñ†ĞµĞ»Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Rubik:wght@400;500;600;700&display=swap');
        body { transition: all 0.3s ease; }
        .font-ru, .font-en { font-family: 'Inter', sans-serif; }
        .font-he { font-family: 'Rubik', sans-serif; }
        .benefit-card { transition: all 0.3s ease-in-out; border: 1px solid #EAE2D9; }
        .benefit-card:hover { transform: translateY(-4px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.07), 0 4px 6px -4px rgb(0 0 0 / 0.07); border-color: #D1C4B3; }
        .switch { position: relative; display: inline-block; width: 50px; height: 28px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 28px; }
        .slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: #B99C7A; }
        input:checked + .slider:before { transform: translateX(22px); }
        .range-slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 20px; height: 20px; background: #B99C7A; cursor: pointer; border-radius: 50%; }
        .range-slider::-moz-range-thumb { width: 20px; height: 20px; background: #B99C7A; cursor: pointer; border-radius: 50%; }
        .details-content { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-out; }
        .custom-select { appearance: none; -webkit-appearance: none; -moz-appearance: none; background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23B99C7A%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-13%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2013l128%20127.9c3.6%203.6%207.8%205.4%2013%205.4s9.4-1.8%2013-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-13%200-5-1.9-9.4-5.4-13z%22%2F%3E%3C%2Fsvg%3E'); background-repeat: no-repeat; background-size: 0.65rem; }
        html[dir="ltr"] .custom-select { background-position: right 0.7rem center; }
        html[dir="rtl"] .custom-select { background-position: left 0.7rem center; }
        .lang-btn { transition: all 0.2s ease; }
        .lang-btn.active { background-color: #B99C7A; color: white; }
    </style>
</head>
<body class="bg-[#FDFBF8] text-[#4B4B4B]">

    <div class="container mx-auto px-4 py-8 md:py-12">
        <div class="flex justify-center mb-8">
            <div class="flex space-x-1 border border-stone-300 rounded-full p-1">
                <button id="lang-ru" class="lang-btn px-4 py-1 rounded-full text-sm font-medium">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
                <button id="lang-en" class="lang-btn px-4 py-1 rounded-full text-sm font-medium">ğŸ‡ºğŸ‡¸ English</button>
                <button id="lang-he" class="lang-btn px-4 py-1 rounded-full text-sm font-medium">ğŸ‡®ğŸ‡± ×¢×‘×¨×™×ª</button>
            </div>
        </div>
        <header class="text-center mb-10">
            <h1 id="main-title" class="text-4xl md:text-5xl font-bold text-[#8A6F4C] mb-2"></h1>
            <p id="main-subtitle" class="text-lg text-gray-600 max-w-3xl mx-auto"></p>
        </header>
        <main>
            <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8 mb-10 border border-gray-200">
                <h2 id="profile-title" class="text-2xl font-bold mb-6 text-center text-[#8A6F4C]"></h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="space-y-2 lg:col-span-3">
                        <label for="daysOfService" id="days-label" class="block font-medium text-gray-700"></label>
                        <input type="range" id="daysOfService" min="1" max="200" value="60" class="w-full h-2 bg-[#EAE2D9] rounded-lg appearance-none cursor-pointer range-slider">
                    </div>
                    <div>
                        <label for="viewerType" id="viewer-type-label" class="block font-medium text-gray-700 mb-2"></label>
                        <select id="viewerType" class="w-full bg-stone-50 border border-stone-300 text-gray-900 text-sm rounded-lg focus:ring-[#B99C7A] focus:border-[#B99C7A] p-2.5 custom-select">
                        </select>
                    </div>
                    <div>
                        <label for="serviceType" id="service-type-label" class="block font-medium text-gray-700 mb-2"></label>
                        <select id="serviceType" class="w-full bg-stone-50 border border-stone-300 text-gray-900 text-sm rounded-lg focus:ring-[#B99C7A] focus:border-[#B99C7A] p-2.5 custom-select">
                        </select>
                    </div>
                    <div>
                        <label for="age" id="age-label" class="block font-medium text-gray-700 mb-2"></label>
                        <input type="number" id="age" value="23" class="w-full bg-stone-50 border border-stone-300 text-gray-900 text-sm rounded-lg focus:ring-[#B99C7A] focus:border-[#B99C7A] p-2.5">
                    </div>
                    <div class="flex items-center justify-center pt-6 space-x-3 rtl:space-x-reverse">
                        <span id="lone-soldier-label" class="font-medium text-gray-700"></span>
                        <label class="switch"><input type="checkbox" id="isLoneSoldier" checked><span class="slider"></span></label>
                    </div>
                    <div class="flex items-center justify-center pt-6 space-x-3 rtl:space-x-reverse">
                        <span id="student-label" class="font-medium text-gray-700"></span>
                        <label class="switch"><input type="checkbox" id="isStudent"><span class="slider"></span></label>
                    </div>
                    <div class="flex items-center justify-center pt-6 space-x-3 rtl:space-x-reverse">
                        <span id="self-employed-label" class="font-medium text-gray-700"></span>
                        <label class="switch"><input type="checkbox" id="isSelfEmployed"><span class="slider"></span></label>
                    </div>
                    <div class="flex items-center justify-center pt-6 space-x-3 rtl:space-x-reverse lg:col-start-2">
                        <span id="children-label" class="font-medium text-gray-700"></span>
                        <label class="switch"><input type="checkbox" id="hasChildren"><span class="slider"></span></label>
                    </div>
                </div>
            </div>
            <div id="results" class="mb-10">
                <h2 id="benefits-title" class="text-2xl font-bold my-6 text-center text-[#8A6F4C]"></h2>
                <div id="no-results" class="text-center text-gray-500 py-10 hidden">
                    <p id="no-results-p1" class="text-xl"></p>
                    <p id="no-results-p2"></p>
                </div>
                <div id="benefits-container" class="space-y-8"></div>
            </div>
             <div id="nko-section" class="bg-white rounded-2xl shadow-lg p-6 md:p-8 mb-10 border border-gray-200">
                <h2 id="nko-title" class="text-2xl font-bold mb-6 text-center text-[#8A6F4C]"></h2>
                <p id="nko-subtitle" class="text-center text-gray-600 mb-6 max-w-3xl mx-auto"></p>
                 <div id="nko-container" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>
        </main>
    </div>

    <script>
        const translations = {
            ru: {
                mainTitle: 'Ğ“Ğ¸Ğ´ Ğ¿Ğ¾ Ğ»ÑŒĞ³Ğ¾Ñ‚Ğ°Ğ¼ Ğ´Ğ»Ñ Ñ€ĞµĞ·ĞµÑ€Ğ²Ğ¸ÑÑ‚Ğ¾Ğ²',
                mainSubtitle: 'Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ° Ğ¿Ñ€Ğ°Ğ² Ğ¸ Ğ²Ñ‹Ğ¿Ğ»Ğ°Ñ‚ Ğ² Ñ€Ğ°Ğ¼ĞºĞ°Ñ… Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ "Ğ–ĞµĞ»ĞµĞ·Ğ½Ñ‹Ğµ ĞœĞµÑ‡Ğ¸"',
                profileTitle: '1. Ğ£ĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ğ²Ğ°Ñˆ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ',
                daysLabel: 'Ğ”Ğ½ĞµĞ¹ Ğ½Ğ° ÑĞ»ÑƒĞ¶Ğ±Ğµ: <span id="daysValue" class="font-bold text-[#B99C7A]">60</span>',
                viewerTypeLabel: 'Ğ§ÑŒĞ¸ Ğ»ÑŒĞ³Ğ¾Ñ‚Ñ‹ ÑĞ¼Ğ¾Ñ‚Ñ€Ğ¸Ğ¼?',
                viewerTypeOptions: { reservist: 'Ğ ĞµĞ·ĞµÑ€Ğ²Ğ¸ÑÑ‚Ğ°', partner: 'ĞŸĞ°Ñ€Ñ‚Ğ½ĞµÑ€Ğ°' },
                serviceTypeLabel: 'Ğ¢Ğ¸Ğ¿ ÑĞ»ÑƒĞ¶Ğ±Ñ‹',
                serviceTypeOptions: { rear: 'Ğ¢Ñ‹Ğ»Ğ¾Ğ²Ğ°Ñ', combat: 'Ğ‘Ğ¾ĞµĞ²Ğ°Ñ (Ğ›Ğ¾Ñ…Ğ°Ğ¼Ğ°)', commander: 'ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸Ñ€' },
                ageLabel: 'Ğ’Ğ¾Ğ·Ñ€Ğ°ÑÑ‚',
                loneSoldierLabel: 'Ğ¡Ğ¾Ğ»Ğ´Ğ°Ñ‚-Ğ¾Ğ´Ğ¸Ğ½Ğ¾Ñ‡ĞºĞ°',
                studentLabel: 'Ğ¡Ñ‚ÑƒĞ´ĞµĞ½Ñ‚/ĞºĞ°',
                selfEmployedLabel: 'Ğ¡Ğ°Ğ¼Ğ¾Ğ·Ğ°Ğ½ÑÑ‚Ñ‹Ğ¹/Ğ°Ñ',
                childrenLabel: 'Ğ•ÑÑ‚ÑŒ Ğ´ĞµÑ‚Ğ¸ (Ğ´Ğ¾ 14)',
                benefitsTitle: '2. Ğ’Ğ°ÑˆĞ¸ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ»ÑŒĞ³Ğ¾Ñ‚Ñ‹',
                noResultsP1: 'Ğ”Ğ»Ñ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² Ğ»ÑŒĞ³Ğ¾Ñ‚Ñ‹ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ñ‹.',
                noResultsP2: 'ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°.',
                nkoTitle: '3. ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ Ğ¾Ñ‚ ĞĞšĞ (×¢××•×ª×•×ª) Ğ¸ Ğ³Ñ€Ğ°Ğ¶Ğ´Ğ°Ğ½ÑĞºĞ¸Ñ… Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ñ‚Ğ¸Ğ²',
                nkoSubtitle: 'Ğ­Ñ‚Ğ° Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ° Ğ²ÑĞµĞ¼ Ñ€ĞµĞ·ĞµÑ€Ğ²Ğ¸ÑÑ‚Ğ°Ğ¼ Ğ¸ Ğ¸Ñ… ÑĞµĞ¼ÑŒÑĞ¼ Ğ½ĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ Ğ¾Ñ‚ ÑÑ€Ğ¾ĞºĞ° ÑĞ»ÑƒĞ¶Ğ±Ñ‹. ĞĞ½Ğ° Ğ½Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ğ²Ğ²ĞµĞ´ĞµĞ½Ğ½Ñ‹Ñ… Ğ²Ñ‹ÑˆĞµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ².',
                categories: { finance: 'ğŸ’° Ğ¤Ğ¸Ğ½Ğ°Ğ½ÑÑ‹ Ğ¸ Ğ“Ñ€Ğ°Ğ½Ñ‚Ñ‹', lone_soldier: 'ğŸ‘¤ Ğ¡Ğ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ´Ğ»Ñ ÑĞ¾Ğ»Ğ´Ğ°Ñ‚-Ğ¾Ğ´Ğ¸Ğ½Ğ¾Ñ‡ĞµĞº', family: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Ğ¡ĞµĞ¼ÑŒÑ Ğ¸ ĞŸĞ°Ñ€Ñ‚Ğ½ĞµÑ€Ñ‹', work: 'ğŸ’¼ Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ğ¸ Ğ‘Ğ¸Ğ·Ğ½ĞµÑ', housing: 'ğŸ  Ğ–Ğ¸Ğ»ÑŒĞµ Ğ¸ ĞœÑƒĞ½Ğ¸Ñ†Ğ¸Ğ¿Ğ°Ğ»Ğ¸Ñ‚ĞµÑ‚', education: 'ğŸ“ ĞĞ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ', health: 'ğŸ§˜ Ğ—Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ Ğ¸ ĞÑ‚Ğ´Ñ‹Ñ…' }
            },
            en: {
                mainTitle: 'Reservist Benefits Guide',
                mainSubtitle: 'Interactive tool for calculating rights and payments for "Iron Swords"',
                profileTitle: '1. Set Your Profile',
                daysLabel: 'Days in service: <span id="daysValue" class="font-bold text-[#B99C7A]">60</span>',
                viewerTypeLabel: 'Whose benefits to view?',
                viewerTypeOptions: { reservist: 'Reservist\'s', partner: 'Partner\'s' },
                serviceTypeLabel: 'Service Type',
                serviceTypeOptions: { rear: 'Rear-echelon', combat: 'Combat', commander: 'Commander' },
                ageLabel: 'Age',
                loneSoldierLabel: 'Lone Soldier',
                studentLabel: 'Student',
                selfEmployedLabel: 'Self-Employed',
                childrenLabel: 'Has children (under 14)',
                benefitsTitle: '2. Your Personal Benefits',
                noResultsP1: 'No benefits found for the selected parameters.',
                noResultsP2: 'Try changing the filter settings.',
                nkoTitle: '3. Support from NGOs (Amutot) and Civil Initiatives',
                nkoSubtitle: 'This support is available to all reservists and their families, regardless of service duration or the parameters entered above.',
                categories: { finance: 'ğŸ’° Finances & Grants', lone_soldier: 'ğŸ‘¤ Special for Lone Soldiers', family: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family & Partners', work: 'ğŸ’¼ Work & Business', housing: 'ğŸ  Housing & Municipality', education: 'ğŸ“ Education', health: 'ğŸ§˜ Health & Recreation' }
            },
            he: {
                mainTitle: '××“×¨×™×š ×”×˜×‘×•×ª ×œ××©×¨×ª×™ ××™×œ×•××™×',
                mainSubtitle: '×›×œ×™ ××™× ×˜×¨××§×˜×™×‘×™ ×œ×—×™×©×•×‘ ×–×›×•×™×•×ª ×•×ª×©×œ×•××™× ×‘××‘×¦×¢ "×—×¨×‘×•×ª ×‘×¨×–×œ"',
                profileTitle: '1. ×”×’×“×¨ ××ª ×”×¤×¨×•×¤×™×œ ×©×œ×š',
                daysLabel: '×™××™ ×©×™×¨×•×ª: <span id="daysValue" class="font-bold text-[#B99C7A]">60</span>',
                viewerTypeLabel: '×©×œ ××™ ×”×”×˜×‘×•×ª ×œ×”×¦×™×’?',
                viewerTypeOptions: { reservist: '×©×œ ××©×¨×ª/×ª ×”××™×œ×•××™×', partner: '×©×œ ×‘×Ÿ/×‘×ª ×”×–×•×’' },
                serviceTypeLabel: '×¡×•×’ ×”×©×™×¨×•×ª',
                serviceTypeOptions: { rear: '×¢×•×¨×¤×™', combat: '×œ×•×—××”', commander: '×¤×™×§×•×“' },
                ageLabel: '×’×™×œ',
                loneSoldierLabel: '×—×™×™×œ/×ª ×‘×•×“×“/×”',
                studentLabel: '×¡×˜×•×“× ×˜/×™×ª',
                selfEmployedLabel: '×¢×¦×××™/×ª',
                childrenLabel: '×”×•×¨×” ×œ×™×œ×“×™× (×¢×“ ×’×™×œ 14)',
                benefitsTitle: '2. ×”×”×˜×‘×•×ª ×”××™×©×™×•×ª ×©×œ×š',
                noResultsP1: '×œ× × ××¦××• ×”×˜×‘×•×ª ×¢×‘×•×¨ ×”×¤×¨××˜×¨×™× ×©× ×‘×—×¨×•.',
                noResultsP2: '× ×¡×”/×™ ×œ×©× ×•×ª ××ª ×”×’×“×¨×•×ª ×”×¡×™× ×•×Ÿ.',
                nkoTitle: '3. ×¡×™×•×¢ ××¢××•×ª×•×ª ×•×™×•×–××•×ª ××–×¨×—×™×•×ª',
                nkoSubtitle: '×ª××™×›×” ×–×• ×–××™× ×” ×œ×›×œ ××©×¨×ª×™ ×”××™×œ×•××™× ×•××©×¤×—×•×ª×™×”×, ×œ×œ× ×ª×œ×•×ª ×‘××©×š ×”×©×™×¨×•×ª ××• ×‘×¤×¨××˜×¨×™× ×©×”×•×–× ×• ×œ××¢×œ×”.',
                categories: { finance: 'ğŸ’° ×›×¡×¤×™× ×•××¢× ×§×™×', lone_soldier: 'ğŸ‘¤ ××™×•×—×“ ×œ×—×™×™×œ×™× ×‘×•×“×“×™×', family: 'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ××©×¤×—×” ×•×‘× ×™/×‘× ×•×ª ×–×•×’', work: 'ğŸ’¼ ×¢×‘×•×“×” ×•×¢×¡×§×™×', housing: 'ğŸ  ×“×™×•×¨ ×•×¢×™×¨×™×™×”', education: 'ğŸ“ ×”×©×›×œ×”', health: 'ğŸ§˜ ×‘×¨×™××•×ª ×•×¤× ××™' }
            }
        };

        const benefitsData = [
            { id: 'bduah_leumi', category: 'finance', minDays: 1, maxDays: Infinity, ru:{title:'ĞšĞ¾Ğ¼Ğ¿ĞµĞ½ÑĞ°Ñ†Ğ¸Ñ Ğ¾Ñ‚ "Ğ‘Ğ¸Ñ‚ÑƒĞ°Ñ… Ğ›ĞµÑƒĞ¼Ğ¸"',details:'Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ¾Ğµ Ğ²Ğ¾Ğ·Ğ½Ğ°Ğ³Ñ€Ğ°Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ, Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€ÑƒÑÑ‰ĞµĞµ, Ñ‡Ñ‚Ğ¾ Ğ²Ğ°Ñˆ Ğ´Ğ¾Ñ…Ğ¾Ğ´ Ğ½Ğµ ÑƒĞ¿Ğ°Ğ´ĞµÑ‚ Ğ½Ğ¸Ğ¶Ğµ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼Ğ°. Ğ’Ñ‹Ğ¿Ğ»Ğ°Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ¾Ğ´Ğ°Ñ‚ĞµĞ»ĞµĞ¼ Ğ¸Ğ»Ğ¸ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ.', amount:'Ğ¼Ğ¸Ğ½. 321.07â‚ª/Ğ´ĞµĞ½ÑŒ'}, en:{title:'Bituah Leumi Compensation',details:'Basic payment ensuring your income doesn\'t fall below the minimum. Paid by the employer or directly.', amount:'min. â‚ª321.07/day'}, he:{title:'×ª×’××•×œ ××‘×™×˜×•×— ×œ××•××™',details:'×ª×’××•×œ ×‘×¡×™×¡×™ ×”××‘×˜×™×— ×©×”×›× ×¡×ª×š ×œ× ×ª×¤×—×ª ××”××™× ×™××•×. ××©×•×œ× ×¢×œ ×™×“×™ ×”××¢×¡×™×§ ××• ×™×©×™×¨×•×ª.', amount:'××™× ×™××•× 321.07â‚ª ×œ×™×•×'} },
            { id: 'personal_grant', category: 'finance', minDays: 8, maxDays: Infinity, ru:{title:'Ğ“Ñ€Ğ°Ğ½Ñ‚ Ğ½Ğ° Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ñ€Ğ°ÑÑ…Ğ¾Ğ´Ñ‹',details:'Ğ•Ğ´Ğ¸Ğ½Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ³Ñ€Ğ°Ğ½Ñ‚, Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ²Ñ‹Ğ¿Ğ»Ğ°Ñ‡Ğ¸Ğ²Ğ°ĞµĞ¼Ñ‹Ğ¹ Ğ½Ğ° Ğ±Ğ°Ğ½ĞºĞ¾Ğ²ÑĞºĞ¸Ğ¹ ÑÑ‡ĞµÑ‚ Ğ¿Ğ¾ÑĞ»Ğµ 8 Ğ´Ğ½ĞµĞ¹ ÑĞ»ÑƒĞ¶Ğ±Ñ‹.', amount:'1,100â‚ª'}, en:{title:'Personal Expenses Grant',details:'A one-time grant automatically paid to the bank account after 8 days of service.', amount:'â‚ª1,100'}, he:{title:'××¢× ×§ ×”×•×¦××•×ª ××™×©×™×•×ª',details:'××¢× ×§ ×—×“-×¤×¢××™ ×”××©×•×œ× ××•×˜×•××˜×™×ª ×œ×—×©×‘×•×Ÿ ×”×‘× ×§ ×œ××—×¨ 8 ×™××™ ×©×™×¨×•×ª.', amount:'1,100â‚ª'} },
            { id: 'family_grant', category: 'family', minDays: 8, maxDays: Infinity, hasChildren: true, ru:{title:'Ğ¡ĞµĞ¼ĞµĞ¹Ğ½Ñ‹Ğ¹ Ğ³Ñ€Ğ°Ğ½Ñ‚',details:'Ğ•Ğ´Ğ¸Ğ½Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ³Ñ€Ğ°Ğ½Ñ‚ Ğ´Ğ»Ñ Ñ€ĞµĞ·ĞµÑ€Ğ²Ğ¸ÑÑ‚Ğ¾Ğ²-Ñ€Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ĞµĞ¹ Ğ´ĞµÑ‚ĞµĞ¹ Ğ´Ğ¾ 14 Ğ»ĞµÑ‚. Ğ’Ñ‹Ğ¿Ğ»Ğ°Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸.', amount:'2,000â‚ª'}, en:{title:'Family Grant',details:'A one-time grant for reservist parents of children under 14. Paid automatically.', amount:'â‚ª2,000'}, he:{title:'××¢× ×§ ××©×¤×—×”',details:'××¢× ×§ ×—×“-×¤×¢××™ ×œ××©×¨×ª×™ ××™×œ×•××™× ×”×•×¨×™× ×œ×™×œ×“×™× ×¢×“ ×’×™×œ 14. ××©×•×œ× ××•×˜×•××˜×™×ª.', amount:'2,000â‚ª'} },
            { id: 'vacation_cancel', category: 'finance', minDays: 8, maxDays: Infinity, ru:{title:'ĞšĞ¾Ğ¼Ğ¿ĞµĞ½ÑĞ°Ñ†Ğ¸Ñ Ğ·Ğ° Ğ¾Ñ‚Ğ¼ĞµĞ½Ñƒ Ğ¾Ñ‚Ğ¿ÑƒÑĞºĞ°',details:'Ğ•ÑĞ»Ğ¸ Ğ¸Ğ·-Ğ·Ğ° Ğ¿Ñ€Ğ¸Ğ·Ñ‹Ğ²Ğ° Ğ¿Ñ€Ğ¸ÑˆĞ»Ğ¾ÑÑŒ Ğ¾Ñ‚Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ¿ÑƒÑĞº, Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ°ÑĞ²ĞºÑƒ Ğ½Ğ° ĞºĞ¾Ğ¼Ğ¿ĞµĞ½ÑĞ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· Ğ¤Ğ¾Ğ½Ğ´ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸ (×§×¨×Ÿ ×”×¡×™×•×¢).', amount:'ĞŸĞ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ'}, en:{title:'Vacation Cancellation Compensation',details:'If a vacation was canceled due to the call-up, you can apply for compensation through the Assistance Fund (Keren HaSiyua).', amount:'By request'}, he:{title:'×¤×™×¦×•×™ ×¢×œ ×‘×™×˜×•×œ ×—×•×¤×©×”',details:'×× ×—×•×¤×©×” ×‘×•×˜×œ×” ×¢×§×‘ ×”×’×™×•×¡, × ×™×ª×Ÿ ×œ×”×’×™×© ×‘×§×©×” ×œ×¤×™×¦×•×™ ×“×¨×š ×§×¨×Ÿ ×”×¡×™×•×¢.', amount:'×œ×¤×™ ×‘×§×©×”'} },
            { id: 'therapy_reimbursement', category: 'health', minDays: 30, maxDays: Infinity, ru:{title:'Ğ’Ğ¾Ğ·Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ğ¿ÑĞ¸Ñ…Ğ¾Ñ‚ĞµÑ€Ğ°Ğ¿Ğ¸Ñ',details:'Ğ’Ğ¾Ğ·Ğ¼ĞµÑ‰ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾ 1,500â‚ª Ğ½Ğ° Ğ»Ğ¸Ñ‡Ğ½ÑƒÑ/ÑĞµĞ¼ĞµĞ¹Ğ½ÑƒÑ Ñ‚ĞµÑ€Ğ°Ğ¿Ğ¸Ñ Ğ¸ Ğ´Ğ¾ 1,500â‚ª Ğ½Ğ° Ğ¿Ğ°Ñ€Ğ½ÑƒÑ. ĞŸĞ¾Ğ´Ğ°ĞµÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· Ğ¤Ğ¾Ğ½Ğ´ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸.', amount:'Ğ´Ğ¾ 3,000â‚ª'}, en:{title:'Psychotherapy Reimbursement',details:'Reimbursement of up to â‚ª1,500 for individual/family therapy and up to â‚ª1,500 for couples therapy. Apply via the Assistance Fund.', amount:'up to â‚ª3,000'}, he:{title:'×”×—×–×¨ ×¢×œ ×˜×™×¤×•×œ × ×¤×©×™',details:'×”×—×–×¨ ×©×œ ×¢×“ 1,500â‚ª ×œ×˜×™×¤×•×œ ××™×©×™/××©×¤×—×ª×™ ×•×¢×“ 1,500â‚ª ×œ×˜×™×¤×•×œ ×–×•×’×™. ×”×’×©×” ×“×¨×š ×§×¨×Ÿ ×”×¡×™×•×¢.', amount:'×¢×“ 3,000â‚ª'} },
            { id: 'self_employed_comp', category: 'work', minDays: 30, maxDays: Infinity, isSelfEmployed: true, ru:{title:'ĞšĞ¾Ğ¼Ğ¿ĞµĞ½ÑĞ°Ñ†Ğ¸Ñ ÑĞ°Ğ¼Ğ¾Ğ·Ğ°Ğ½ÑÑ‚Ñ‹Ğ¼',details:'Ğ’Ğ»Ğ°Ğ´ĞµĞ»ÑŒÑ†Ñ‹ Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ¾Ğ², Ñ‡ĞµĞ¹ Ğ¾Ğ±Ğ¾Ñ€Ğ¾Ñ‚ ÑƒĞ¿Ğ°Ğ», Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ¿Ğ¾Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ°ÑĞ²ĞºÑƒ Ğ½Ğ° ĞºĞ¾Ğ¼Ğ¿ĞµĞ½ÑĞ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· ĞĞ°Ğ»Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ğµ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ.', amount:'ĞŸĞ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ'}, en:{title:'Compensation for Self-Employed',details:'Business owners who experienced a drop in turnover can apply for compensation through the Tax Authority.', amount:'By request'}, he:{title:'×¤×™×¦×•×™ ×œ×¢×¦×××™×',details:'×‘×¢×œ×™ ×¢×¡×§×™× ×©×—×•×• ×™×¨×™×“×” ×‘××—×–×•×¨ ×™×›×•×œ×™× ×œ×”×’×™×© ×‘×§×©×” ×œ×¤×™×¦×•×™ ×“×¨×š ×¨×©×•×ª ×”××™×¡×™×.', amount:'×œ×¤×™ ×‘×§×©×”'} },
            { id: 'increased_personal_grant', category: 'finance', minDays: 40, maxDays: Infinity, serviceType: ['combat', 'commander'], ru:{title:'Ğ£Ğ²ĞµĞ»Ğ¸Ñ‡ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ³Ñ€Ğ°Ğ½Ñ‚',details:'ĞĞ°Ñ‡Ğ¸Ğ½Ğ°Ñ Ñ 40-Ğ³Ğ¾ Ğ´Ğ½Ñ, Ğ·Ğ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 10 Ğ´Ğ½ĞµĞ¹ Ğ½Ğ°Ñ‡Ğ¸ÑĞ»ÑĞµÑ‚ÑÑ Ğ´Ğ¾Ğ¿. Ğ³Ñ€Ğ°Ğ½Ñ‚: 266â‚ª Ğ´Ğ»Ñ Ğ²ÑĞµÑ…, 466â‚ª Ğ´Ğ»Ñ Ğ±Ğ¾Ğ¹Ñ†Ğ¾Ğ² Ğ¸ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¸Ñ€Ğ¾Ğ².', amount:'266-466â‚ª/10Ğ´'}, en:{title:'Increased Grant',details:'Starting from day 40, an additional grant is accrued for every 10 days: â‚ª266 for all, â‚ª466 for combat soldiers and commanders.', amount:'â‚ª266-466/10d'}, he:{title:'××¢× ×§ ××•×’×“×œ',details:'×”×—×œ ××”×™×•× ×”-40, × ×™×ª×Ÿ ××¢× ×§ × ×•×¡×£ ×¢×œ ×›×œ 10 ×™××™×: 266â‚ª ×œ×›×•×œ×, 466â‚ª ×œ×œ×•×—××™× ×•××¤×§×“×™×.', amount:'266-466â‚ª/10×™'} },
            { id: 'vacation_voucher', category: 'health', minDays: 60, maxDays: Infinity, ru:{title:'Ğ’Ğ°ÑƒÑ‡ĞµÑ€ Ğ½Ğ° Ğ¾Ñ‚Ğ´Ñ‹Ñ…',details:'Ğ’Ğ°ÑƒÑ‡ĞµÑ€ Ğ´Ğ»Ñ ÑĞµĞ¼ĞµĞ¹Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ñ‚Ğ´Ñ‹Ñ…Ğ° Ğ² Ğ˜Ğ·Ñ€Ğ°Ğ¸Ğ»Ğµ. Ğ¡ÑƒĞ¼Ğ¼Ğ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° ÑĞ»ÑƒĞ¶Ğ±Ñ‹ Ğ¸ ÑĞµĞ¼ĞµĞ¹Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ.', amount:'1,500-4,500â‚ª'}, en:{title:'Recreation Voucher',details:'A voucher for a family vacation in Israel. The amount depends on service status and family situation.', amount:'â‚ª1,500-4,500'}, he:{title:'×©×•×‘×¨ × ×•×¤×©',details:'×©×•×‘×¨ ×œ×—×•×¤×©×” ××©×¤×—×ª×™×ª ×‘×™×©×¨××œ. ×”×¡×›×•× ×ª×œ×•×™ ×‘××¢××“ ×”×©×™×¨×•×ª ×•×‘××¦×‘ ×”××©×¤×—×ª×™.', amount:'1,500-4,500â‚ª'} },
            { id: 'special_payment_60', category: 'finance', minDays: 61, maxDays: Infinity, ru:{title:'Ğ”Ğ¾Ğ¿. ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶',details:'Ğ—Ğ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ ÑĞ»ÑƒĞ¶Ğ±Ñ‹, Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°Ñ Ñ 61-Ğ³Ğ¾, Ğ½Ğ°Ñ‡Ğ¸ÑĞ»ÑĞµÑ‚ÑÑ Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ²Ñ‹Ğ¿Ğ»Ğ°Ñ‚Ğ°.', amount:'133â‚ª/Ğ´ĞµĞ½ÑŒ'}, en:{title:'Additional Special Payment',details:'For each day of service starting from the 61st day, an additional payment is accrued.', amount:'â‚ª133/day'}, he:{title:'×ª×’××•×œ ××™×•×—×“ × ×•×¡×£',details:'×¢×œ ×›×œ ×™×•× ×©×™×¨×•×ª ×”×—×œ ××”×™×•× ×”-61, ××¦×˜×‘×¨ ×ª×©×œ×•× × ×•×¡×£.', amount:'133â‚ª ×œ×™×•×'} },
            { id: 'dira_behanacha', category: 'housing', minDays: 120, maxDays: Infinity, ru:{title:'ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ Ğ² "Ğ”Ğ¸Ñ€Ğ° Ğ±Ğµ-ĞĞ½Ğ°Ñ…Ğ°"',details:'Ğ’ Ğ¶Ğ¸Ğ»Ğ¸Ñ‰Ğ½Ñ‹Ñ… Ğ»Ğ¾Ñ‚ĞµÑ€ĞµÑÑ… 20-50% ĞºĞ²Ğ°Ñ€Ñ‚Ğ¸Ñ€ Ğ·Ğ°Ñ€ĞµĞ·ĞµÑ€Ğ²Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ´Ğ»Ñ Ñ€ĞµĞ·ĞµÑ€Ğ²Ğ¸ÑÑ‚Ğ¾Ğ², Ğ¾Ñ‚ÑĞ»ÑƒĞ¶Ğ¸Ğ²ÑˆĞ¸Ñ… 120+ Ğ´Ğ½ĞµĞ¹.', amount:'ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚'}, en:{title:'Priority in "Dira Behanacha"',details:'In housing lotteries, 20-50% of apartments are reserved for reservists who served 120+ days.', amount:'Priority'}, he:{title:'×§×“×™××•×ª ×‘"×“×™×¨×” ×‘×”× ×—×”"',details:'×‘×”×’×¨×œ×•×ª ×”×“×™×•×¨, 20-50% ××”×“×™×¨×•×ª ×©××•×¨×•×ª ×œ××©×¨×ª×™ ××™×œ×•××™× ×©×©×™×¨×ª×• 120+ ×™××™×.', amount:'×§×“×™××•×ª'} },
            { id: 'dismissal_protection', category: 'work', minDays: 2, maxDays: Infinity, ru:{title:'Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ ÑƒĞ²Ğ¾Ğ»ÑŒĞ½ĞµĞ½Ğ¸Ñ',details:'Ğ—Ğ°Ğ¿Ñ€ĞµÑ‰ĞµĞ½Ğ¾ ÑƒĞ²Ğ¾Ğ»ÑŒĞ½ÑÑ‚ÑŒ Ñ€ĞµĞ·ĞµÑ€Ğ²Ğ¸ÑÑ‚Ğ° Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ ÑĞ»ÑƒĞ¶Ğ±Ñ‹ Ğ¸ 30 Ğ´Ğ½ĞµĞ¹ Ğ¿Ğ¾ÑĞ»Ğµ (60 Ğ´Ğ½ĞµĞ¹ Ğ¿Ñ€Ğ¸ ÑĞ»ÑƒĞ¶Ğ±Ğµ >60 Ğ´Ğ½ĞµĞ¹).', amount:'Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ°'}, en:{title:'Protection from Dismissal',details:'It is forbidden to fire a reservist during service and for 30 days after (60 days for service >60 days).', amount:'Protection'}, he:{title:'×”×’× ×” ××¤×™×˜×•×¨×™×Ÿ',details:'××¡×•×¨ ×œ×¤×˜×¨ ××©×¨×ª ××™×œ×•××™× ×‘××”×œ×š ×”×©×™×¨×•×ª ×•-30 ×™×•× ×œ××—×¨×™×• (60 ×™×•× ×œ×©×™×¨×•×ª ××¢×œ 60 ×™×•×).', amount:'×”×’× ×”'} },
            { id: 'partner_hour_off', category: 'family', minDays: 5, maxDays: Infinity, isPartner: true, hasChildren: true, ru:{title:'Ğ§Ğ°Ñ Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿Ğ°Ñ€Ñ‚Ğ½ĞµÑ€Ğ°',details:'ĞŸĞ°Ñ€Ñ‚Ğ½ĞµÑ€ Ñ Ñ€ĞµĞ±ĞµĞ½ĞºĞ¾Ğ¼ Ğ´Ğ¾ 13 Ğ»ĞµÑ‚, Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‰Ğ¸Ğ¹ Ğ½Ğ° Ğ¿Ğ¾Ğ»Ğ½ÑƒÑ ÑÑ‚Ğ°Ğ²ĞºÑƒ, Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ñ‚ÑŒ 1 Ñ‡Ğ°Ñ Ğ² Ğ´ĞµĞ½ÑŒ Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸ĞµĞ¼ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹.', amount:'1 Ñ‡Ğ°Ñ/Ğ´ĞµĞ½ÑŒ'}, en:{title:'Hour of Absence for Partner',details:'A partner with a child under 13, working full-time, can be absent for 1 hour per day with full pay.', amount:'1 hour/day'}, he:{title:'×©×¢×ª ×”×™×¢×“×¨×•×ª ×œ×‘×Ÿ/×‘×ª ×”×–×•×’',details:'×‘×Ÿ/×‘×ª ×–×•×’ ×¢× ×™×œ×“ ×¢×“ ×’×™×œ 13, ×”×¢×•×‘×“/×ª ××©×¨×” ××œ××”, ×™×›×•×œ/×” ×œ×”×™×¢×“×¨ ×©×¢×” ×‘×™×•× ×‘×ª×©×œ×•× ××œ×.', amount:'×©×¢×” ×‘×™×•×'} },
            { id: 'lone_soldier_rent', category: 'lone_soldier', minDays: 60, maxDays: Infinity, isLoneSoldier: true, isPostService: true, ru:{title:'ĞŸĞ¾Ğ¼Ğ¾Ñ‰ÑŒ Ğ² Ğ°Ñ€ĞµĞ½Ğ´Ğµ Ğ¿Ğ¾ÑĞ»Ğµ ÑĞ»ÑƒĞ¶Ğ±Ñ‹',details:'ĞŸĞ¾ÑĞ»Ğµ Ğ´ĞµĞ¼Ğ¾Ğ±Ğ¸Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ ÑĞ¾Ğ»Ğ´Ğ°Ñ‚Ñ‹-Ğ¾Ğ´Ğ¸Ğ½Ğ¾Ñ‡ĞºĞ¸ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ÑŒ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ Ğ² Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğµ Ğ°Ñ€ĞµĞ½Ğ´Ñ‹ Ğ´Ğ¾ 1,000â‚ª Ğ² Ğ¼ĞµÑÑÑ† Ğ² Ñ‚ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ Ğ³Ğ¾Ğ´Ğ°.', amount:'Ğ´Ğ¾ 1,000â‚ª/Ğ¼ĞµÑ'}, en:{title:'Post-Service Rental Assistance',details:'After discharge, lone soldiers can receive rental assistance of up to â‚ª1,000 per month for the first year.', amount:'up to â‚ª1,000/mo'}, he:{title:'×¡×™×•×¢ ×‘×©×›×¨ ×“×™×¨×” ×œ××—×¨ ×”×©×™×¨×•×ª',details:'×œ××—×¨ ×”×©×—×¨×•×¨, ×—×™×™×œ×™× ×‘×•×“×“×™× ×™×›×•×œ×™× ×œ×§×‘×œ ×¡×™×•×¢ ×‘×©×›×¨ ×“×™×¨×” ×©×œ ×¢×“ 1,000â‚ª ×œ×—×•×“×© ×‘××”×œ×š ×”×©× ×” ×”×¨××©×•× ×”.', amount:'×¢×“ 1,000â‚ª ×œ×—×•×“×©'} },
            { id: 'academic_credits', category: 'education', minDays: 10, maxDays: Infinity, isStudent: true, ru:{title:'ĞĞºĞ°Ğ´ĞµĞ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ±Ğ°Ğ»Ğ»Ñ‹',details:'Ğ¡Ñ‚ÑƒĞ´ĞµĞ½Ñ‚Ñ‹-Ñ€ĞµĞ·ĞµÑ€Ğ²Ğ¸ÑÑ‚Ñ‹ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ÑÑ‚ 2 Ğ°ĞºĞ°Ğ´ĞµĞ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ±Ğ°Ğ»Ğ»Ğ° (× ×§×•×“×•×ª ×–×›×•×ª) Ğ·Ğ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 10+ Ğ´Ğ½ĞµĞ¹ ÑĞ»ÑƒĞ¶Ğ±Ñ‹.', amount:'2 Ğ±Ğ°Ğ»Ğ»Ğ°'}, en:{title:'Academic Credits',details:'Student reservists receive 2 academic credit points (nekudot zikui) for every 10+ days of service.', amount:'2 points'}, he:{title:'× ×§×•×“×•×ª ×–×›×•×ª ××§×“××™×•×ª',details:'×¡×˜×•×“× ×˜×™× ×‘××™×œ×•××™× ××§×‘×œ×™× 2 × ×§×•×“×•×ª ×–×›×•×ª ×¢×œ ×›×œ 10+ ×™××™ ×©×™×¨×•×ª.', amount:'2 × ×§×•×“×•×ª'} }
        ];

        const nkoData = [
             {ru:{title:'Ğ®Ñ€Ğ¸Ğ´Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¸ Ğ±Ğ¸Ğ·Ğ½ĞµÑ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ',org:'"ĞœĞ¸Ğ»ÑƒĞ¸Ğ¼Ğ½Ğ¸ĞºĞ¸Ğ¼", "Ğ—Ñ…ÑƒÑ‚ Ğ±Ğµ-ĞšĞ°Ğ»ÑƒÑ‚"',details:'Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ñ‹Ğµ ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ Ñ‚Ñ€ÑƒĞ´Ğ¾Ğ²Ğ¾Ğ¼Ñƒ Ğ¿Ñ€Ğ°Ğ²Ñƒ, Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ°Ğ¼, Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ°Ğ¼ Ğ¸ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞµ Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ°.'},en:{title:'Legal & Business Aid',org:'"Miluimnikim", "Zchut BeKalut"',details:'Free consultations on labor law, contracts, taxes and business support.'},he:{title:'×¡×™×•×¢ ××©×¤×˜×™ ×•×¢×¡×§×™',org:'"××™×œ×•××™×× ×™×§×™×", "×–×›×•×ª ×‘×§×œ×•×ª"',details:'×™×™×¢×•×¥ ×—×™× × ×‘×“×™× ×™ ×¢×‘×•×“×”, ×—×•×–×™×, ××™×¡×™× ×•×ª××™×›×” ×¢×¡×§×™×ª.'}},
             {ru:{title:'ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° ÑĞµĞ¼ĞµĞ¹ Ğ¸ Ğ´ĞµÑ‚ĞµĞ¹',org:'"Ğ¥Ğ°-ĞĞ³ĞµĞ½", "ĞœĞ°Ğ¼Ğ°-Ñ‚ĞºĞ°Ğ»ÑŒ", WIZO',details:'ĞŸÑ€Ğ°ĞºÑ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ: ÑƒÑ…Ğ¾Ğ´ Ğ·Ğ° Ğ´ĞµÑ‚ÑŒĞ¼Ğ¸, Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ°, Ğ³Ñ€ÑƒĞ¿Ğ¿Ñ‹ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸ Ğ´Ğ»Ñ Ğ¶ĞµĞ½, Ğ¼ĞµÑ€Ğ¾Ğ¿Ñ€Ğ¸ÑÑ‚Ğ¸Ñ.'},en:{title:'Family & Child Support',org:'"HaOgen", "Mamatkal", WIZO',details:'Practical help: childcare, cooking, support groups for spouses, events.'},he:{title:'×ª××™×›×” ×œ××©×¤×—×•×ª ×•×™×œ×“×™×',org:'"×”×¢×•×’×Ÿ", "××××˜×›"×œ", ×•×™×¦×•',details:'×¢×–×¨×” ××¢×©×™×ª: ×˜×™×¤×•×œ ×‘×™×œ×“×™×, ×‘×™×©×•×œ×™×, ×§×‘×•×¦×•×ª ×ª××™×›×”, ××™×¨×•×¢×™×.'}},
             {ru:{title:'ĞŸÑĞ¸Ñ…Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',org:'NATAL, "ĞšĞµÑ€ĞµĞ½ Ğ¥ĞµÑĞµĞ³"',details:'Ğ“Ğ¾Ñ€ÑÑ‡Ğ¸Ğµ Ğ»Ğ¸Ğ½Ğ¸Ğ¸, Ñ‚ĞµÑ€Ğ°Ğ¿Ğ¸Ñ, ÑÑ‚Ğ¸Ğ¿ĞµĞ½Ğ´Ğ¸Ğ¸ Ğ½Ğ° ÑƒÑ‡ĞµĞ±Ñƒ Ğ´Ğ»Ñ ÑĞ¾Ğ»Ğ´Ğ°Ñ‚-Ğ¾Ğ´Ğ¸Ğ½Ğ¾Ñ‡ĞµĞº, ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ñ†Ğ¸Ğ¸.'},en:{title:'Mental Health & Education Support',org:'NATAL, Keren Hayeseg',details:'Hotlines, therapy, academic scholarships for lone soldiers, consultations.'},he:{title:'×ª××™×›×” × ×¤×©×™×ª ×•×—×™× ×•×›×™×ª',org:'× ×˜"×œ, ×§×¨×Ÿ ×”×™×©×’',details:'×§×•×•×™× ×—××™×, ×˜×™×¤×•×œ, ××œ×’×•×ª ×œ×™××•×“×™× ×œ×—×™×™×œ×™× ×‘×•×“×“×™×, ×™×™×¢×•×¥.'}}
        ];

        const allInputs = [ document.getElementById('daysOfService'), document.getElementById('viewerType'), document.getElementById('serviceType'), document.getElementById('age'), document.getElementById('isLoneSoldier'), document.getElementById('isStudent'), document.getElementById('isSelfEmployed'), document.getElementById('hasChildren') ];
        const benefitsContainer = document.getElementById('benefits-container');
        const noResults = document.getElementById('no-results');
        
        let currentLang = 'ru';

        function changeLanguage(lang) {
            const t = translations[lang];
            const oldLang = currentLang;
            currentLang = lang;

            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'he' ? 'rtl' : 'ltr';
            document.body.className = `bg-[#FDFBF8] text-[#4B4B4B] font-${lang}`;

            ['ru', 'en', 'he'].forEach(l => {
                document.getElementById(`lang-${l}`).classList.toggle('active', l === lang);
            });
            
            document.getElementById('main-title').textContent = t.mainTitle;
            document.getElementById('main-subtitle').textContent = t.mainSubtitle;
            document.getElementById('profile-title').textContent = t.profileTitle;
            document.getElementById('days-label').innerHTML = t.daysLabel;
            document.getElementById('viewer-type-label').textContent = t.viewerTypeLabel;
            document.getElementById('service-type-label').textContent = t.serviceTypeLabel;
            document.getElementById('age-label').textContent = t.ageLabel;
            document.getElementById('lone-soldier-label').textContent = t.loneSoldierLabel;
            document.getElementById('student-label').textContent = t.studentLabel;
            document.getElementById('self-employed-label').textContent = t.selfEmployedLabel;
            document.getElementById('children-label').textContent = t.childrenLabel;
            document.getElementById('benefits-title').textContent = t.benefitsTitle;
            document.getElementById('no-results-p1').textContent = t.noResultsP1;
            document.getElementById('no-results-p2').textContent = t.noResultsP2;
            document.getElementById('nko-title').textContent = t.nkoTitle;
            document.getElementById('nko-subtitle').textContent = t.nkoSubtitle;

            const viewerSelect = document.getElementById('viewerType');
            const currentViewerValue = viewerSelect.value;
            viewerSelect.innerHTML = Object.entries(t.viewerTypeOptions).map(([key, value]) => `<option value="${key}">${value}</option>`).join('');
            if (Object.values(translations[oldLang].viewerTypeOptions).includes(translations[oldLang].viewerTypeOptions[currentViewerValue])) {
                viewerSelect.value = currentViewerValue;
            }

            const serviceSelect = document.getElementById('serviceType');
            const currentServiceValue = serviceSelect.value;
            serviceSelect.innerHTML = Object.entries(t.serviceTypeOptions).map(([key, value]) => `<option value="${key}">${value}</option>`).join('');
            if (Object.values(translations[oldLang].serviceTypeOptions).includes(translations[oldLang].serviceTypeOptions[currentServiceValue])) {
                serviceSelect.value = currentServiceValue;
            }

            updateBenefits();
            renderNkoSection();
        }
        
        function createBenefitCard(benefit) {
            const t = benefit[currentLang];
            return `
                <div class="benefit-card bg-white rounded-xl shadow-md overflow-hidden p-5 cursor-pointer" onclick="toggleDetails(this)">
                    <div class="flex justify-between items-start gap-4">
                        <h4 class="font-bold text-lg text-gray-800">${t.title}</h4>
                        ${t.amount ? `<p class="text-lg font-bold text-[#8A6F4C] text-right whitespace-nowrap">${t.amount}</p>` : ''}
                    </div>
                    <div class="details-content mt-4 pt-4 border-t border-gray-200">
                        <p class="text-gray-600">${t.details}</p>
                    </div>
                </div>
            `;
        }
        
        function toggleDetails(cardElement) {
            const details = cardElement.querySelector('.details-content');
            if (details.style.maxHeight && details.style.maxHeight !== '0px') {
                details.style.maxHeight = '0px';
            } else {
                details.style.maxHeight = details.scrollHeight + 'px';
            }
        }
        
        function updateBenefits() {
            document.getElementById('daysValue').textContent = allInputs[0].value;
            const days = parseInt(allInputs[0].value);
            const viewerType = allInputs[1].value;
            const serviceType = allInputs[2].value;
            const isLoneSoldier = allInputs[4].checked;
            const isStudent = allInputs[5].checked;
            const isSelfEmployed = allInputs[6].checked;
            const hasChildren = allInputs[7].checked;

            document.getElementById('nko-section').style.display = viewerType === 'reservist' ? 'block' : 'none';

            const categories = {};
            Object.keys(translations.ru.categories).forEach(key => {
                categories[key] = { title: translations[currentLang].categories[key], order: Object.keys(translations.ru.categories).indexOf(key) + 1, benefits: [] };
            });
            
            const applicableBenefits = benefitsData.filter(b => {
                if (viewerType === 'partner') return b.isPartner === true;
                if (b.isPartner === true) return false;
                
                const meetsDays = days >= b.minDays && days <= b.maxDays;
                const meetsServiceType = !b.serviceType || b.serviceType.includes(serviceType) || (b.serviceType.includes('combat') && serviceType === 'commander');
                const meetsLoneSoldier = b.isLoneSoldier === undefined || b.isLoneSoldier === isLoneSoldier;
                const meetsStudent = b.isStudent === undefined || b.isStudent === isStudent;
                const meetsSelfEmployed = b.isSelfEmployed === undefined || b.isSelfEmployed === isSelfEmployed;
                const meetsChildren = b.hasChildren === undefined || b.hasChildren === hasChildren;
                
                return meetsDays && meetsServiceType && meetsLoneSoldier && meetsStudent && meetsSelfEmployed && meetsChildren;
            });
            
            if (applicableBenefits.length === 0) {
                noResults.classList.remove('hidden');
                benefitsContainer.innerHTML = '';
            } else {
                noResults.classList.add('hidden');
                applicableBenefits.forEach(b => {
                    if (categories[b.category]) categories[b.category].benefits.push(b);
                });

                let html = '';
                const sortedCategories = Object.values(categories).sort((a, b) => a.order - b.order);
                sortedCategories.forEach(cat => {
                    if (cat.benefits.length > 0) {
                        html += `<div id="cat-${cat.order}">
                            <h3 class="text-xl font-semibold mb-4 text-gray-700">${cat.title}</h3>
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                                ${cat.benefits.map(b => createBenefitCard(b)).join('')}
                            </div>
                        </div>`;
                    }
                });
                benefitsContainer.innerHTML = html;
            }
        }
        
        function renderNkoSection() {
            document.getElementById('nko-container').innerHTML = nkoData.map(nko => {
                const t = nko[currentLang];
                return `
                <div class="bg-stone-50 rounded-lg p-4 text-center border border-stone-200 h-full flex flex-col justify-between">
                    <div>
                       <h4 class="font-bold text-md text-[#8A6F4C]">${t.title}</h4>
                       <p class="text-sm text-gray-500 mt-1">${t.details}</p>
                    </div>
                    <p class="text-xs text-gray-400 mt-3">${t.org}</p>
                </div>
            `}).join('');
        }

        allInputs.forEach(input => {
            input.addEventListener('input', updateBenefits);
            input.addEventListener('change', updateBenefits);
        });

        document.getElementById('lang-ru').addEventListener('click', () => changeLanguage('ru'));
        document.getElementById('lang-en').addEventListener('click', () => changeLanguage('en'));
        document.getElementById('lang-he').addEventListener('click', () => changeLanguage('he'));
        
        window.addEventListener('load', () => {
             const viewerType = document.getElementById('viewerType').value;
             const serviceType = document.getElementById('serviceType').value;
             changeLanguage('ru');
             document.getElementById('viewerType').value = viewerType;
             document.getElementById('serviceType').value = serviceType;
             updateBenefits();
        });
    </script>
</body>
</html>
